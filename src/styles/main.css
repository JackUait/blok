/* Tailwind CSS - must be first */
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/**
 * Component classes for the Styles API.
 * These single-class names can be safely used with classList.add() by external plugins.
 * Each class bundles multiple Tailwind utilities using @apply.
 */
@layer components {
  /* Base Blok styles - applied to block tool wrappers */
  .blok-block {
    @apply py-[3px] px-[2px] [&::-webkit-input-placeholder]:!leading-normal;
  }

  /* Inline Tools styles */
  .blok-inline-tool-button {
    @apply flex justify-center items-center border-0 rounded h-full p-0 w-7 bg-transparent cursor-pointer leading-normal text-black;
  }

  .blok-inline-tool-button--active {
    @apply bg-icon-active-bg text-icon-active-text;
  }

  /* Input element styles */
  .blok-input {
    @apply w-full rounded-[3px] border border-line-gray px-3 py-2.5 outline-none shadow-input [&[data-blok-placeholder]]:before:!static [&[data-blok-placeholder]]:before:inline-block [&[data-blok-placeholder]]:before:w-0 [&[data-blok-placeholder]]:before:whitespace-nowrap [&[data-blok-placeholder]]:before:pointer-events-none;
  }

  /* Loader styles with spinning animation */
  .blok-loader {
    @apply relative border border-line-gray before:absolute before:left-1/2 before:top-1/2 before:w-[18px] before:h-[18px] before:rounded-full before:content-[''] before:-ml-[11px] before:-mt-[11px] before:border-2 before:border-line-gray before:border-l-active-icon before:animate-rotation;
  }

  /* Button styles */
  .blok-button {
    @apply p-[13px] rounded-[3px] border border-line-gray text-[14.9px] bg-white text-center cursor-pointer text-gray-text shadow-button-base hover:bg-[#fbfcfe] hover:shadow-button-base-hover [&_svg]:h-5 [&_svg]:mr-[0.2em] [&_svg]:-mt-0.5;
  }

  /* Settings button styles */
  .blok-settings-button {
    @apply inline-flex items-center justify-center rounded-[3px] cursor-pointer border-0 outline-none bg-transparent align-bottom text-inherit m-0 min-w-toolbox-btn min-h-toolbox-btn [&_svg]:w-auto [&_svg]:h-auto mobile:w-toolbox-btn-mobile mobile:h-toolbox-btn-mobile mobile:rounded-lg mobile:[&_svg]:w-icon-mobile mobile:[&_svg]:h-icon-mobile can-hover:hover:bg-bg-light;
  }

  .blok-settings-button--active {
    @apply text-active-icon;
  }

  .blok-settings-button--focused {
    @apply shadow-button-focused bg-item-focus-bg;
  }

  .blok-settings-button--focused-animated {
    @apply animate-button-clicked;
  }
}

/**
 * Navigation mode styles
 * Applied when user enters block navigation mode via Escape key
 */
[data-blok-navigation-focused="true"] {
  @apply bg-item-focus-bg rounded-md w-content-width max-w-full mx-auto;
}

/**
 * Delete button hover styles
 * Makes the delete button text and icon appear red on hover
 */
@media (hover: hover) {
  [data-blok-item-name="delete"]:hover {
    @apply text-item-confirm-bg transition-colors;
  }
}

/**
 * Drop indicator styles for drag and drop
 * Shows a visual line at the top or bottom of a block during drag
 */
[data-drop-indicator] {
  @apply relative;
}

[data-drop-indicator="bottom"]::before {
  @apply content-[''] absolute left-1/2 -translate-x-1/2 translate-y-1/2 bottom-0 w-full max-w-content h-1 bg-[#d4e3fc] pointer-events-none z-10;
}
