/**
 * Styles overrides for inline popover - Tailwind version
 *
 * Uses @apply where possible, CSS variables for dynamic values
 */
.blok-popover--inline {
  --height: 38px;
  --height-mobile: 46px;
  --container-padding: 4px;

  @apply relative;

  &.blok-popover--opened {
    @apply inline-block;
    width: var(--inline-popover-width, max-content);
    height: var(--height);

    @screen mobile {
      height: var(--height-mobile);
    }
  }

  .blok-popover__custom-content {
    @apply mb-0;
  }

  .blok-popover__items {
    @apply flex;
  }

  .blok-popover__container {
    @apply flex-row top-0 min-w-max w-max mobile:absolute;
    padding: var(--container-padding);
    height: var(--height);
    animation: none;

    @screen mobile {
      height: var(--height-mobile);
    }
  }

  /**
   * Popover item styles
   */
  .blok-popover-item-separator {
    @apply px-1 py-0;

    &__line {
      @apply h-full w-px;
    }
  }

  .blok-popover-item {
    @apply rounded p-1 gap-1;

    &__icon--tool {
      @apply shadow-none bg-transparent mr-0;
    }

    &__icon {
      @apply w-auto h-auto;

      svg {
        width: var(--icon-size);
        height: var(--icon-size);

        @screen mobile {
          width: var(--icon-size--mobile);
          height: var(--icon-size--mobile);
        }
      }
    }

    &:not(:last-of-type) {
      @apply mb-0;
    }
  }

  .blok-popover-item-html {
    @apply flex items-center;
  }

  .blok-popover-item__icon--chevron-right {
    @apply rotate-90;
  }

  /**
   * Hide chevron for the link tool â€” it renders a custom input instead of a dropdown list,
   * so the arrow is misleading here but should stay for other tools like the text style switcher.
   */
  [data-blok-item-name="link"] .blok-popover-item__icon--chevron-right {
    @apply hidden;
  }

  .blok-popover--nested-level-1 {
    .blok-popover__container {
      --offset: 3px;

      @apply left-0;
      top: calc(var(--height) + var(--offset));

      @screen mobile {
        top: calc(var(--height-mobile) + var(--offset));
      }
    }
  }

  /**
   * Nested popovers should look like regular desktop popovers, hence these overrides
   */
  .blok-popover--nested {
    .blok-popover__container {
      @apply h-fit p-1.5 flex-col;
      min-width: var(--width);
      width: var(--width);
    }

    .blok-popover__items {
      @apply block w-full;
    }

    .blok-popover-item {
      @apply rounded-md p-[3px] mobile:p-1;

      &__icon--tool {
        @apply mr-1;
      }

      &__icon {
        @apply w-[26px] h-[26px];
      }
    }

    .blok-popover-item-separator {
      @apply py-1 px-[3px];

      &__line {
        @apply w-full h-px;
      }
    }
  }
}
