/**
 * Styles overrides for inline popover - Tailwind version
 *
 * Uses @apply where possible, CSS variables for dynamic values only.
 * Static sizing values use theme() functions per CSS-to-Tailwind migration.
 * State-based styling uses data attributes for JavaScript integration.
 *
 * Dynamic variables retained for JavaScript integration:
 * - --height, --height-mobile: Popover height (can be overridden)
 * - --inline-popover-width: Dynamic width set by JavaScript
 * - --width: Nested popover width set dynamically
 */
[data-blok-popover-inline] {
  /* Dynamic sizing variables - retained for runtime manipulation */
  --height: 38px;
  --height-mobile: 46px;

  @apply relative;
}

[data-blok-popover-inline][data-blok-popover-opened] {
  @apply inline-block;
  width: var(--inline-popover-width, max-content);
  height: var(--height);

  @screen mobile {
    height: var(--height-mobile);
  }
}

[data-blok-popover-inline] [data-blok-popover-custom-content] {
  @apply mb-0;
}

[data-blok-popover-inline] [data-blok-popover-items] {
  @apply flex;
}

[data-blok-popover-inline] [data-blok-popover-container] {
  @apply flex-row top-0 min-w-max w-max p-1 mobile:absolute;
  height: var(--height);
  animation: none;

  @screen mobile {
    height: var(--height-mobile);
  }
}

/**
 * Popover item styles
 */
[data-blok-popover-inline] [data-blok-popover-item-separator] {
  @apply px-1 py-0;
}

[data-blok-popover-inline] [data-blok-popover-item-separator-line] {
  @apply h-full w-px;
}

[data-blok-popover-inline] [data-blok-popover-item] {
  @apply rounded p-1;
}

[data-blok-popover-inline] [data-blok-popover-item-icon][data-blok-tool] {
  @apply shadow-none bg-transparent mr-0;
}

[data-blok-popover-inline] [data-blok-popover-item-icon] {
  @apply w-auto h-auto;

  svg {
    width: theme('width.icon');
    height: theme('height.icon');

    @screen mobile {
      width: theme('width.icon-mobile');
      height: theme('height.icon-mobile');
    }
  }
}

[data-blok-popover-inline] [data-blok-popover-item]:not(:last-of-type) {
  @apply mb-0;
}

[data-blok-popover-inline] [data-blok-popover-item-html] {
  @apply flex items-center;
}

[data-blok-popover-inline] [data-blok-popover-item-icon-chevron-right] {
  @apply rotate-90;
}

[data-blok-popover-inline] [data-blok-nested-level="level-1"] [data-blok-popover-container] {
  @apply left-0;
  top: calc(var(--height) + 3px);

  @screen mobile {
    top: calc(var(--height-mobile) + 3px);
  }
}

/**
 * Nested popovers should look like regular desktop popovers, hence these overrides
 */
[data-blok-popover-inline] [data-blok-nested] [data-blok-popover-container] {
  @apply h-fit p-1.5 flex-col;
  /* --width is a dynamic variable set by JavaScript for nested popovers */
  min-width: var(--width);
  width: var(--width);
}

[data-blok-popover-inline] [data-blok-nested] [data-blok-popover-items] {
  @apply block w-full;
}

[data-blok-popover-inline] [data-blok-nested] [data-blok-popover-item] {
  @apply rounded-md p-[3px] mobile:p-1;
}

[data-blok-popover-inline] [data-blok-nested] [data-blok-popover-item-icon][data-blok-tool] {
  @apply mr-2;
}

[data-blok-popover-inline] [data-blok-nested] [data-blok-popover-item-icon] {
  @apply w-toolbox-btn h-toolbox-btn;
}

[data-blok-popover-inline] [data-blok-nested] [data-blok-popover-item-separator] {
  @apply py-1 px-[3px];
}

[data-blok-popover-inline] [data-blok-nested] [data-blok-popover-item-separator-line] {
  @apply w-full h-px;
}
