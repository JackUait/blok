/**
 * Styles overrides for inline popover - Tailwind version
 *
 * Uses @apply where possible, CSS variables for dynamic values only.
 * Static sizing values use theme() functions per CSS-to-Tailwind migration.
 *
 * Dynamic variables retained for JavaScript integration:
 * - --height, --height-mobile: Popover height (can be overridden)
 * - --inline-popover-width: Dynamic width set by JavaScript
 * - --width: Nested popover width set dynamically
 */
.blok-popover--inline {
  /* Dynamic sizing variables - retained for runtime manipulation */
  --height: 38px;
  --height-mobile: 46px;

  @apply relative;
}

.blok-popover--inline.blok-popover--opened {
  @apply inline-block;
  width: var(--inline-popover-width, max-content);
  height: var(--height);

  @screen mobile {
    height: var(--height-mobile);
  }
}

.blok-popover--inline .blok-popover__custom-content {
  @apply mb-0;
}

.blok-popover--inline .blok-popover__items {
  @apply flex;
}

.blok-popover--inline .blok-popover__container {
  @apply flex-row top-0 min-w-max w-max p-1 mobile:absolute;
  height: var(--height);
  animation: none;

  @screen mobile {
    height: var(--height-mobile);
  }
}

/**
 * Popover item styles
 */
.blok-popover--inline .blok-popover-item-separator {
  @apply px-1 py-0;
}

.blok-popover--inline .blok-popover-item-separator__line {
  @apply h-full w-px;
}

.blok-popover--inline .blok-popover-item {
  @apply rounded p-1;
}

.blok-popover--inline .blok-popover-item__icon--tool {
  @apply shadow-none bg-transparent mr-0;
}

.blok-popover--inline .blok-popover-item__icon {
  @apply w-auto h-auto;

  svg {
    width: theme('width.icon');
    height: theme('height.icon');

    @screen mobile {
      width: theme('width.icon-mobile');
      height: theme('height.icon-mobile');
    }
  }
}

.blok-popover--inline .blok-popover-item:not(:last-of-type) {
  @apply mb-0;
}

.blok-popover--inline .blok-popover-item-html {
  @apply flex items-center;
}

.blok-popover--inline .blok-popover-item__icon--chevron-right {
  @apply rotate-90;
}

.blok-popover--inline .blok-popover--nested-level-1 .blok-popover__container {
  @apply left-0;
  top: calc(var(--height) + 3px);

  @screen mobile {
    top: calc(var(--height-mobile) + 3px);
  }
}

/**
 * Nested popovers should look like regular desktop popovers, hence these overrides
 */
.blok-popover--inline .blok-popover--nested .blok-popover__container {
  @apply h-fit p-1.5 flex-col;
  /* --width is a dynamic variable set by JavaScript for nested popovers */
  min-width: var(--width);
  width: var(--width);
}

.blok-popover--inline .blok-popover--nested .blok-popover__items {
  @apply block w-full;
}

.blok-popover--inline .blok-popover--nested .blok-popover-item {
  @apply rounded-md p-[3px] mobile:p-1;
}

.blok-popover--inline .blok-popover--nested .blok-popover-item__icon--tool {
  @apply mr-1;
}

.blok-popover--inline .blok-popover--nested .blok-popover-item__icon {
  @apply w-toolbox-btn h-toolbox-btn;
}

.blok-popover--inline .blok-popover--nested .blok-popover-item-separator {
  @apply py-1 px-[3px];
}

.blok-popover--inline .blok-popover--nested .blok-popover-item-separator__line {
  @apply w-full h-px;
}
