<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Migration Guide â€” Blok Documentation</title>
  <link rel="stylesheet" href="assets/styles.css">
  <link rel="stylesheet" href="assets/migration.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=SF+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navigation -->
  <nav class="nav" data-nav>
    <div class="nav-container">
      <a href="index.html" class="nav-logo">
        <svg width="32" height="32" viewBox="0 0 128 128" fill="none">
          <defs>
            <linearGradient id="logo-gradient-mig" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#007AFF"/>
              <stop offset="100%" style="stop-color:#5856D6"/>
            </linearGradient>
          </defs>
          <rect width="128" height="128" rx="28" fill="url(#logo-gradient-mig)"/>
          <path d="M36 40h56c2.2 0 4 1.8 4 4v40c0 2.2-1.8 4-4 4H36c-2.2 0-4-1.8-4-4V44c0-2.2 1.8-4 4-4z" fill="white" opacity="0.9"/>
          <rect x="42" y="52" width="44" height="4" rx="2" fill="#007AFF"/>
          <rect x="42" y="62" width="32" height="4" rx="2" fill="#5856D6"/>
          <circle cx="98" cy="84" r="14" fill="white"/>
          <path d="M94 84l3 3 6-6" stroke="#007AFF" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
        <span>Blok</span>
      </a>
      <div class="nav-links">
        <a href="index.html#features" class="nav-link">Features</a>
        <a href="index.html#quick-start" class="nav-link">Quick Start</a>
        <a href="api.html" class="nav-link">API</a>
        <a href="https://github.com/JackUait/blok" class="nav-link nav-link-github">GitHub</a>
      </div>
      <button class="nav-toggle" aria-label="Toggle menu" data-nav-toggle>
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Migration Guide -->
  <main class="migration-main">
    <!-- Breadcrumb -->
    <div class="migration-breadcrumb">
      <a href="index.html">Documentation</a>
      <span class="breadcrumb-separator">/</span>
      <span>Migration Guide</span>
    </div>

    <!-- Hero -->
    <section class="migration-hero">
      <div class="migration-hero-badge">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0L1 4v7c0 4 3.2 7.5 7 8 3.8-.5 7-4 7-8V4L8 0zm0 1.3L14.5 5v6c0 3.3-2.7 6.2-6 6.7V9H5.5v-3l2.5-1.5v-2.2H8z"/>
        </svg>
        Migration
      </div>
      <h1 class="migration-hero-title">From EditorJS to Blok</h1>
      <p class="migration-hero-description">
        Blok is designed as a drop-in replacement for EditorJS. Follow this guide to migrate your project in minutes, not hours.
      </p>
    </section>

    <!-- Quick Start Codemod -->
    <section class="migration-section">
      <div class="codemod-card">
        <div class="codemod-icon">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
            <path d="M24 4L6 12v14c0 9.5 7.7 18.4 18 20.5 10.3-2.1 18-11 18-20.5V12L24 4z" stroke="url(#codemod-gradient)" stroke-width="2" fill="none"/>
            <path d="M18 24l6 6 10-10" stroke="url(#codemod-gradient)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            <defs>
              <linearGradient id="codemod-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#34C759"/>
                <stop offset="100%" style="stop-color:#30D158"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h2 class="codemod-title">Automated Codemod</h2>
        <p class="codemod-description">
          The fastest way to migrate is using our automated codemod. It handles imports, selectors, types, and configuration.
        </p>

        <div class="codemod-tabs">
          <button class="codemod-tab active" data-tab="dry-run">Dry Run</button>
          <button class="codemod-tab" data-tab="apply">Apply</button>
        </div>

        <div class="codemod-content">
          <div class="codemod-panel active" data-panel="dry-run">
            <p class="codemod-panel-label">Preview what will change (recommended first)</p>
            <div class="code-block" data-code-block>
              <button class="code-copy" data-copy data-code="npx -p @jackuait/blok migrate-from-editorjs ./src --dry-run">
                <span class="code-copy-text">Copy</span>
              </button>
              <pre><code class="language-bash">npx -p @jackuait/blok migrate-from-editorjs ./src --dry-run</code></pre>
            </div>
          </div>
          <div class="codemod-panel" data-panel="apply">
            <p class="codemod-panel-label">Apply the changes</p>
            <div class="code-block" data-code-block>
              <button class="code-copy" data-copy data-code="npx -p @jackuait/blok migrate-from-editorjs ./src">
                <span class="code-copy-text">Copy</span>
              </button>
              <pre><code class="language-bash">npx -p @jackuait/blok migrate-from-editorjs ./src</code></pre>
            </div>
          </div>
        </div>

        <div class="codemod-options">
          <h4 class="codemod-options-title">Options</h4>
          <table class="migration-table">
            <thead>
              <tr>
                <th>Flag</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>--dry-run</code></td>
                <td>Preview changes without modifying files</td>
              </tr>
              <tr>
                <td><code>--verbose</code></td>
                <td>Show detailed output for each file processed</td>
              </tr>
              <tr>
                <td><code>--use-library-i18n</code></td>
                <td>Use Blok's built-in translations (68 languages)</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- What Changes -->
    <section class="migration-section">
      <h2 class="migration-section-title">What Gets Transformed</h2>
      <p class="migration-section-description">
        The codemod handles all the breaking changes automatically.
      </p>

      <div class="changes-grid">
        <div class="change-card">
          <div class="change-card-header">
            <span class="change-card-icon">1</span>
            <h3 class="change-card-title">Imports</h3>
          </div>
          <div class="change-card-content">
            <div class="diff-block">
              <div class="diff-removed">
                <span class="diff-marker">-</span>
                <code>import EditorJS from '@editorjs/editorjs';</code>
              </div>
              <div class="diff-added">
                <span class="diff-marker">+</span>
                <code>import { Blok } from '@jackuait/blok';</code>
              </div>
            </div>
          </div>
        </div>

        <div class="change-card">
          <div class="change-card-header">
            <span class="change-card-icon">2</span>
            <h3 class="change-card-title">Tool Imports</h3>
          </div>
          <div class="change-card-content">
            <div class="diff-block">
              <div class="diff-removed">
                <span class="diff-marker">-</span>
                <code>import Header from '@editorjs/header';</code>
              </div>
              <div class="diff-added">
                <span class="diff-marker">+</span>
                <code>import { Header } from '@jackuait/blok/tools';</code>
              </div>
            </div>
          </div>
        </div>

        <div class="change-card">
          <div class="change-card-header">
            <span class="change-card-icon">3</span>
            <h3 class="change-card-title">Types</h3>
          </div>
          <div class="change-card-content">
            <div class="diff-block">
              <div class="diff-removed">
                <span class="diff-marker">-</span>
                <code>import type { EditorConfig } from '@editorjs/editorjs';</code>
              </div>
              <div class="diff-added">
                <span class="diff-marker">+</span>
                <code>import type { BlokConfig } from '@jackuait/blok';</code>
              </div>
            </div>
          </div>
        </div>

        <div class="change-card">
          <div class="change-card-header">
            <span class="change-card-icon">4</span>
            <h3 class="change-card-title">CSS Selectors</h3>
          </div>
          <div class="change-card-content">
            <div class="diff-block">
              <div class="diff-removed">
                <span class="diff-marker">-</span>
                <code>.ce-block</code>
              </div>
              <div class="diff-added">
                <span class="diff-marker">+</span>
                <code>[data-blok-element]</code>
              </div>
            </div>
          </div>
        </div>

        <div class="change-card">
          <div class="change-card-header">
            <span class="change-card-icon">5</span>
            <h3 class="change-card-title">Default Holder</h3>
          </div>
          <div class="change-card-content">
            <div class="diff-block">
              <div class="diff-removed">
                <span class="diff-marker">-</span>
                <code>&lt;div id="editorjs"&gt;&lt;/div&gt;</code>
              </div>
              <div class="diff-added">
                <span class="diff-marker">+</span>
                <code>&lt;div id="blok"&gt;&lt;/div&gt;</code>
              </div>
            </div>
          </div>
        </div>

        <div class="change-card">
          <div class="change-card-header">
            <span class="change-card-icon">6</span>
            <h3 class="change-card-title">Data Attributes</h3>
          </div>
          <div class="change-card-content">
            <div class="diff-block">
              <div class="diff-removed">
                <span class="diff-marker">-</span>
                <code>data-id</code>
              </div>
              <div class="diff-added">
                <span class="diff-marker">+</span>
                <code>data-blok-id</code>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CSS Reference -->
    <section class="migration-section">
      <h2 class="migration-section-title">CSS Selector Reference</h2>
      <p class="migration-section-description">
        Reference for manually updating your CSS selectors.
      </p>

      <div class="reference-table-wrapper">
        <table class="migration-table reference-table">
          <thead>
            <tr>
              <th>EditorJS</th>
              <th>Blok</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>.codex-editor</code></td>
              <td><code>[data-blok-editor]</code></td>
            </tr>
            <tr>
              <td><code>.ce-block</code></td>
              <td><code>[data-blok-element]</code></td>
            </tr>
            <tr>
              <td><code>.ce-block--selected</code></td>
              <td><code>[data-blok-selected="true"]</code></td>
            </tr>
            <tr>
              <td><code>.ce-toolbar</code></td>
              <td><code>[data-blok-toolbar]</code></td>
            </tr>
            <tr>
              <td><code>.ce-inline-toolbar</code></td>
              <td><code>[data-blok-testid="inline-toolbar"]</code></td>
            </tr>
            <tr>
              <td><code>.ce-popover</code></td>
              <td><code>[data-blok-popover]</code></td>
            </tr>
            <tr>
              <td><code>.ce-toolbox</code></td>
              <td><code>[data-blok-toolbox]</code></td>
            </tr>
            <tr>
              <td><code>.cdx-list</code></td>
              <td><code>[data-blok-list]</code></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- E2E Tests -->
    <section class="migration-section">
      <h2 class="migration-section-title">E2E Test Selectors</h2>
      <p class="migration-section-description">
        Update your test selectors to use Blok's <code>data-blok-testid</code> attributes.
      </p>

      <div class="test-selector-grid">
        <div class="test-selector-card">
          <h4 class="test-selector-title">Playwright</h4>
          <div class="diff-block">
            <div class="diff-removed">
              <code>await page.locator('[data-cy=editorjs] .ce-block').click();</code>
            </div>
            <div class="diff-added">
              <code>await page.locator('[data-blok-element]').click();</code>
            </div>
          </div>
        </div>

        <div class="test-selector-card">
          <h4 class="test-selector-title">Cypress</h4>
          <div class="diff-block">
            <div class="diff-removed">
              <code>cy.get('.ce-toolbar__settings-btn').click();</code>
            </div>
            <div class="diff-added">
              <code>cy.get('[data-blok-settings-toggler]').click();</code>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Checklist -->
    <section class="migration-section">
      <h2 class="migration-section-title">Migration Checklist</h2>
      <p class="migration-section-description">
        Use this checklist to ensure a complete migration.
      </p>

      <div class="checklist">
        <label class="checklist-item">
          <input type="checkbox">
          <span>Replace <code>new EditorJS</code> with <code>new Blok</code></span>
        </label>
        <label class="checklist-item">
          <input type="checkbox">
          <span>Update imports from <code>@editorjs/*</code> to <code>@jackuait/blok</code></span>
        </label>
        <label class="checklist-item">
          <input type="checkbox">
          <span>Change holder from <code>editorjs</code> to <code>blok</code></span>
        </label>
        <label class="checklist-item">
          <input type="checkbox">
          <span>Use bundled tools: <code>Blok.Header</code>, <code>Blok.Paragraph</code></span>
        </label>
        <label class="checklist-item">
          <input type="checkbox">
          <span>Update <code>EditorConfig</code> type to <code>BlokConfig</code></span>
        </label>
        <label class="checklist-item">
          <input type="checkbox">
          <span>Replace <code>data-id</code> with <code>data-blok-id</code></span>
        </label>
        <label class="checklist-item">
          <input type="checkbox">
          <span>Replace CSS selectors with <code>[data-blok-*]</code> attributes</span>
        </label>
        <label class="checklist-item">
          <input type="checkbox">
          <span>Update E2E test selectors</span>
        </label>
        <label class="checklist-item">
          <input type="checkbox">
          <span>Run tests to verify everything works</span>
        </label>
      </div>
    </section>

    <!-- CTA -->
    <section class="migration-cta">
      <div class="migration-cta-card">
        <h2>Need Help?</h2>
        <p>If you encounter issues during migration, check out our GitHub issues or start a discussion.</p>
        <div class="migration-cta-actions">
          <a href="https://github.com/JackUait/blok/issues" class="btn btn-secondary">View Issues</a>
          <a href="https://github.com/JackUait/blok/discussions" class="btn btn-secondary">Start Discussion</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer migration-footer">
    <div class="container">
      <div class="footer-bottom">
        <p>&copy; 2025 JackUait. Licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache 2.0</a>.</p>
      </div>
    </div>
  </footer>

  <script src="assets/main.js"></script>
  <script src="assets/migration.js"></script>
</body>
</html>
